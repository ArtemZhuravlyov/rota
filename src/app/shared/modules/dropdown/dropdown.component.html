<div class="d-flex justify-content-center flex-column">
  <div class="field-label">
    <span>{{ title | translate }}</span>
  </div>
  <mat-form-field appearance="outline">
    <img *ngIf="currentIcon" src="{{ currentIcon | country }}">
    <mat-select [(ngModel)]="selectedValue" [placeholder]="'SELECT' | translate" (valueChange)="setFormValue($event)">
      <ng-container *ngIf="isObservable(data); else defaultType">
        <ng-container *ngIf="data | async as asyncData">
          <mat-option *ngFor="let value of asyncData" [value]="value[valueField]">
            <img *ngIf="value['countryFlag']" src="{{ $any(value['countryFlag']) | country }}">
            <span>{{ value[textField] }}</span>
          </mat-option>
        </ng-container>
      </ng-container>
      <ng-template #defaultType>
        <mat-option *ngFor="let value of data" [value]="value[valueField]">
          {{ value[textField] }}
        </mat-option>
      </ng-template>
    </mat-select>
  </mat-form-field>
</div>
